---
title: linux查询磁盘情况
categories: 
      - [计算机学科,linux,磁盘]
tags:
      - 计算机学科
      - linux
---

## 查询磁盘情况

基本语法:

```bash
df -h
```

查询系统整体磁盘使用情况

![image_2023-01-05-19-25-29](https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image_2023-01-05-19-25-29.png)

**参数说明**：

Filesystem：标识该文件系统位于哪个分区，因此该列显示的是设备名称；

1K-blocks：此列表示文件系统的总大小，默认以KB为单位

Used：表示用掉的硬盘空间大小

Available：表示剩余的硬盘空间大小

Use%：硬盘空间使用率，如果使用率高达90%以上，就需要额外注意，因为容量不足，会严重影响系统的正常运行

Mounted on：文件系统的挂载点，也就是硬盘挂载的目录位置

```bash
du -h /目录
```

查询指定目录的磁盘占用情况, 默认为当前目录

- 参数:

-s 指定目录占用大小汇总

-h 带计量单位

-a 含文件

--max-depth=1 子目录深度

-c 列出明细的同时, 增加汇总值

应用实例:

查询/opt目录的磁盘占用情况,深度为1

![image-20240208124032631](https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240208124032631.png)

> 练习

- 统计/opt目录下的文件数量

```bash
#ll列出 目录 |管道 过滤 以-开头的 |管道 wc:wordcount统计文件数量 -l 显示统计数量
dkx@192  ~  ll /opt|grep '^-'|wc -l                                                                                        ✔  901  06:38:02
2
```

- 统计/opt文件夹下目录的个数

```bash
#文件都是以d开头的:dwrxwrxwrx
 dkx@192  ~  ll /opt|grep '^d'|wc -l                                                                                        ✔  902  06:38:22
4
```

- 统计/opt文件夹下文件的个数,包括子文件夹里的

```bash
#-R递归显示出所有的文件个数,然后统计数量
 dkx@192  ~  ll -R /opt|grep '^-'|wc -l                                                                                     ✔  904  06:48:48
1302
```

- 统计/opt文件夹下目录的个数,包括子文件夹里的

```bash
#-R递归显示出所有的文件夹个数,然后统计数量
 dkx@192  ~  ll -R /opt|grep '^d'|wc -l                                                                                     ✔  903  06:47:27
161
```
